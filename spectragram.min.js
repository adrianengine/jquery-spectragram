"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(a,b,c,d){var e={API_URL:"https://api.instagram.com/v1",initialize:function(b,c){this.elem=c,this.$elem=a(c),this.accessData=a.fn.spectragram.accessData,this.accessToken=this.accessData.accessToken,this.clientID=this.accessData.clientID,this.userCredentials=this.clientID+"&access_token="+this.accessToken,this.options=a.extend({},a.fn.spectragram.options,b),this.messages={defaultImageAltText:"Instagram Photo related with "+this.options.query,notFound:"This user account is private or doesn't have any photos."}},getRecentMedia:function(a){var b=this,c="/users/"+a+"/media/recent/?"+b.userCredentials;b.fetch(c).done(function(a){b.display(a)})},getUserFeed:function(){var b=this,c="/users/search?q="+b.options.query+"&count="+b.options.max+"&access_token="+b.accessToken,d=!1;b.fetch(c).done(function(c){if(c.data.length)for(var e=c.data.length,f=0;f<e;f++)c.data[f].username===b.options.query&&(b.getRecentMedia(c.data[f].id),d=!0);d===!1&&a.error("Spectragram.js - Error: the username "+b.options.query+" does not exist.")})},getPopular:function(){var a=this,b="/media/popular?client_id="+a.userCredentials;a.fetch(b).done(function(b){a.display(b)})},getRecentTagged:function(){var b=this,c="/tags/"+b.options.query+"/media/recent?client_id="+b.userCredentials;b.fetch(c).done(function(c){c.data.length?b.display(c):a.error("Spectragram.js - Error: the tag "+b.options.query+" does not have results.")})},fetch:function(b){var c=this.API_URL+b;return a.ajax({type:"GET",dataType:"jsonp",cache:!1,url:c})},display:function(b){var c,e,f,h,i,j,k,l,m,n,o,g=[];if(f=0===a(this.options.wrapEachWith).length,b.data===d||200!==b.meta.code||0===b.data.length)f?this.$elem.append(this.messages.notFound):this.$elem.append(a(this.options.wrapEachWith).append(this.messages.notFound));else{k=this.options.max>=b.data.length?b.data.length:this.options.max,l=this.options.size,m=this.options.width,n=this.options.height;for(var p=0;p<k;p++)"small"===l?(o=b.data[p].images.thumbnail.url,i=b.data[p].images.thumbnail.height,j=b.data[p].images.thumbnail.width):"medium"===l?(o=b.data[p].images.low_resolution.url,i=b.data[p].images.low_resolution.height,j=b.data[p].images.low_resolution.width):(o=b.data[p].images.standard_resolution.url,i=b.data[p].images.standard_resolution.height,j=b.data[p].images.standard_resolution.width),h=null!==b.data[p].caption?a("<span>").text(b.data[p].caption.text).html():this.messages.defaultImageAltText,e=a("<img>",{alt:h,style:"width: "+(null==m?j+"px":m)+"; height: "+(null==n?i+"px":n),src:o}),c=a("<a>",{href:b.data[p].link,target:"_blank",title:h}).append(e),f?g.push(c):g.push(a(this.options.wrapEachWith).append(c));this.$elem.append(g)}"function"==typeof this.options.complete&&this.options.complete.call(this)}};jQuery.fn.spectragram=function(b,c){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var d=Object.create(e);return d.initialize(c,this),d[b]?d[b](this):void a.error("Method "+b+" does not exist on jQuery.spectragram")}):a.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={complete:null,max:10,query:"instagram",size:"medium",wrapEachWith:"<li></li>",width:null,height:null},jQuery.fn.spectragram.accessData={accessToken:null,clientID:null}}(jQuery,window,document);
